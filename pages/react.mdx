import { Callout, Tabs, Tab } from 'nextra/components'

# 5. React –ø—Ä–∞–≤–∏–ª–∞

## 5.1. –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è

- –î–∞–≤–∞–π—Ç–µ —É—Å–ª–æ–≤–∏–º—Å—è, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–º–µ—Ä–æ–º –±–æ–ª–µ–µ 300 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞. –õ—É—á—à–µ, –∫–æ–Ω–µ—á–Ω–æ, –º–µ–Ω—å—à–µ.
- –õ—É—á—à–µ –ø–µ—Ä–µ–¥—Ä–æ–±–∏—Ç—å, —á–µ–º –Ω–µ–¥–æ–¥—Ä–æ–±–∏—Ç—å

## 5.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

–ß—Ç–æ–±—ã –≤—Å–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±—ã–ª–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã, —Å–ª–µ–¥—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ö–µ–º–µ:

```tsx showLineNumbers
// 1. Imports
import { useEffect, useState } from 'react'

// 2. Types
type Props = {
  todolist: TodolistDomainType
  tasks: TaskType[]
}

// 3. Additional variables
// –ï—Å–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –¥–∞–Ω–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, —Ç–æ –≤—ã–Ω–æ—Å–∏–º –µ–µ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
// –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–æ –≤—ã–Ω–æ—Å–∏–º –µ–µ –≤ `common/constants`
const SOME_CONSTANT = 'something'

// 4. –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤
export const Todolist = ({ todolist, tasks }: Props) => {
  // ‚ùó –î–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –ª—É—á—à–µ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫
  // 4.1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  // 4.2. –†–∞–∑–¥–µ–ª—è–µ–º –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏
  const [state, setState] = useState(false)
  const [user, setUser] = useState<string | null>(null)

  const { fetchTasks, addTask } = useActions(tasksThunks)

  const { token } = useParams<{ token?: string }>()

  // 4.3. Effects
  useEffect(() => {
    fetchTasks(todolist.id)
  }, [])

  // 4.4. –§—É–Ω–∫—Ü–∏–∏
  const addTaskCallBack = (title: string) => {
    return addTask({ title, todolistId: todolist.id }).unwrap()
  }

  // 4.5. –§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–∑—ã–≤–∞–µ–º —Å handler –≤ –∫–æ–Ω—Ü–µ
  const testHandler = () => {
    // code
  }

  return (
    <>
      <TodolistTitle todolist={todolist} />
      <AddItemForm addItem={addTaskCallBack} />
      <Tasks todolist={todolist} tasks={tasks} />
      <FilterTasksButtons todolist={todolist} />
      <button onClick={testHandler}>test</button>
    </>
  )
}
```

## 5.3. –¢–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤
<Callout type={'error'} emoji={'‚ùó'}>
  –î–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è Props –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º React.FC
</Callout>


```tsx showLineNumbers filename="‚ùå –ü—Ä–∏–º–µ—Ä —Å –∏–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º React.FC" {1, 7}
import { FC } from 'react'

type Props = {
  message: string
}

const Component: FC<Props> = ({ message }) => {
  return <>TSX</>
}
```

```tsx showLineNumbers filename="‚úÖ –ü—Ä–∏–º–µ—Ä –±–µ–∑ –∏–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è React.FC" {5}
type Props = {
  message: string
}

const Component = ({ message }: Props) => {
   return <>TSX</>
}
```

### 5.3.1. –¢–µ–æ—Ä–∏—è
–ß—Ç–æ `React.FC` –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ?
* —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (`ReactNode`)
* –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–∏–ø—ã –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–≤–æ–π—Å—Ç–≤ (`displayName`, `propsTypes`, `defaultProps`)

```tsx
type FC<P = {}> = FunctionComponent<P>

interface FunctionComponent<P = {}> {
    (props: P, context?: any): ReactNode;
    propTypes?: WeakValidationMap<P> | undefined;
    contextTypes?: ValidationMap<any> | undefined;
    defaultProps?: Partial<P> | undefined;
    displayName?: string | undefined;
}
```

### 5.3.2. –ú–∏–Ω—É—Å—ã
* –õ–∏—à–Ω–∏–π –∏–º–ø–æ—Ä—Ç (`import { FC } from 'react'`)
* –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–∏—Å–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–∂–µ–Ω–µ—Ä–∏–∫, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è ‚Äú—Å—É—â–Ω–æ—Å—Ç—å‚Äù –≤ –∫–æ–¥–µ
* –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞—Ö –æ—Ç –Ω–µ–≥–æ –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å (–ø—Ä—É—Ñ—ã –Ω–∏–∂–µ)

### 5.3.3. –ü–ª—é—Å—ã
* `React.FC` —Ç–∏–ø–∏–∑–∏—Ä—É–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ `ReactNode` (–ø–æ–º–æ–∂–µ—Ç, –µ—Å–ª–∏ –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ –≤–µ—Ä–Ω—É—Ç—å –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç)
* –Ø–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è React component

### 5.3.4. –°—Ç–∞—Ç—å–∏ –Ω–∞ –¥–∞–Ω–Ω—É—é —Ç–µ–º—É:
<Callout type={'info'} emoji={'üîó'}>
  * [Why is React.FC not needed (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ React TypeScript Cheatsheet)](https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/function_components)
  * [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è React](https://react.dev/learn/typescript#typescript-with-react-components)
  * [You can stop hating React.FC (Matt Pocock)](https://www.totaltypescript.com/you-can-stop-hating-react-fc)
</Callout>



## 5.4. [–ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫](https://react.dev/learn/reusing-logic-with-custom-hooks)

‚ùó –ï—Å–ª–∏ –ª–æ–≥–∏–∫–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –±–æ–ª—å—à–µ 20 —Å—Ç—Ä–æ–∫ –≤—ã–Ω–æ—Å–∏–º –ª–æ–≥–∏–∫—É –≤ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫

<Callout type={"info"}>
    –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ "use" (–Ω–∞–ø—Ä–∏–º–µ—Ä, useCustomHook),
    –∏ –æ–Ω–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –ª–æ–≥–∏–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è, —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (side-effects),
    –∏–ª–∏ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –≤–∞—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

    ‚ùó–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö—É–∫–æ–≤:
    * –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏. –ö–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö,
    —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.
    * –°–æ–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª–µ–π. –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ, –¥–µ–ª–∞—è –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–æ–ª–µ–µ
    —á–∏—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.
    * –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑—É—è –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–Ω–µ—Å—Ç–∏ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –¥–µ–ª–∞—è –µ–≥–æ –±–æ–ª–µ–µ
    –ø—Ä–æ—Å—Ç—ã–º –∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.
</Callout>

<Tabs items={['Login.tsx', 'useLogin.ts']}>
    <Tab>
        ```tsx showLineNumbers filename="Login.tsx"
        const Login = () => {
            const isLoggedIn = useSelector(selectIsLoggedIn);

            const {formik} = useLogin();

            if (isLoggedIn) {
                return <Navigate to = {"/"} />;
            }

            return (
                <div>JSX</div>
            );
        }
        ```

</Tab>
<Tab>
    ```tsx showLineNumbers filename="useLogin.js"
    const useLogin = () => {
        const {login} = useActions(authThunks);

        const formik = useFormik({
            validate: (values) => {},
            initialValues: {},
            onSubmit: () => {},
        });

        return {formik};
    };
    ```

</Tab>
</Tabs>

## 5.5. [Fragment](https://react.dev/reference/react/Fragment)

–ï—Å–ª–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏, —Ç–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏—à–Ω—é—é –æ–±–µ—Ä—Ç–∫—É –∏—Å–ø–æ–ª—å–∑—É–µ–º Fragment (<>...</>)

```tsx showLineNumbers {4,7,14,17}
// ‚ùå
const ButtonList1 = () => {
  return (
    <div>
      <button>add</button>
      <button>remove</button>
    </div>
  )
}

// ‚úÖ
const ButtonList2 = () => {
  return (
    <>
      <button>add</button>
      <button>remove</button>
    </>
  )
}
```

## 5.6. –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤

–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º –ø—Ä–æ–ø—Å—ã, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –≤ —Ä–∞–∑–º–µ—Ç–∫–µ

```tsx showLineNumbers
// ‚ùå
const Button1 = props => {
  return <button>{props.text}</button>
}

// ‚úÖ
const Button2 = ({ text }) => {
  return <button>{text}</button>
}
```

## 5.7. –î—Ä–æ–±–∏–º –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–ï—Å–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–µ, —Ç–æ –¥—Ä–æ–±–∏–º –µ–≥–æ

```tsx showLineNumbers
// ‚ùå
return (
    <>
        {(requiredAnswers && !!avatar && !isReminderOpen) || isHelp2Debug && <NavBar>}
    </>
)

// ‚úÖ
const navbarEnabled = (requiredAnswers && !!avatar && !isReminderOpen) || isHelp2Debug

return (
    <>
        { navbarEnabled && <NavBar>}
    </>
)
```

## 5.8. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

‚≠ï (in progress) –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (useMemo, useCallback –∏ –ø—Ä.)

[–ü–µ—Ä–µ–¥–æ–∑–∏—Ä–æ–≤–∫–∞ useMemo](https://edvins.io/usememo-overdose)

## 5.9. –í–∫–ª—é—á–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Ñ–∞–π–ª.

```tsx showLineNumbers filename="User.tsx"
// ‚ùå –ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –í –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

//1Ô∏è‚É£
const Component1 = ({ text }: Props) => {
  return <div>{text}</div>
}

// 2Ô∏è‚É£
const Component2 = ({ count }: Props) => {
  return <div>Count: {count}</div>
}

// 3Ô∏è‚É£
const User = () => {
  return (
    <div>
      <Component1 text={'lorem ipsum'} />
      <Component2 count={'10'} />
    </div>
  )
}
```

<Tabs items={['User.tsx', 'Component1.tsx', 'Component2.tsx']}>
    <Tab>
        ```tsx showLineNumbers filename="User.tsx"
        const User = () => {
          return (
            <div>
              <Component1 text={"lorem ipsum"}/>
              <Component2 count={"10"}/>
            </div>
          );
        };
        ```
  </Tab>
  <Tab>
    ```tsx showLineNumbers filename="Component1.tsx"
      const Component1 = ({ text }: Props) => {
        return <div>{text}</div>;
      };
    ```
  </Tab>
  <Tab>
    ```tsx copy showLineNumbers filename="Component2.tsx"
      const Component2 = ({ text }: Props) => {
        return <div>Count: {count}</div>;
      };
    ```
  </Tab>
</Tabs>
